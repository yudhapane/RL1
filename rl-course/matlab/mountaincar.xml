<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
	<version>1.0</version>
	<loglevel>debug</loglevel>
	<constants>
		<baselength>0.2</baselength>
		<basewidth>0.2</basewidth>
		<wheelradius>0.05</wheelradius>
		<basethickness>0.02</basethickness>
		<lynoleum>0</lynoleum>
		<rubber>1</rubber>
		<glass>2</glass>
		<basemass>2</basemass>
		<wheelmass>0.5</wheelmass>
		<irrelevantmass>0.001</irrelevantmass>
		<irrelevantinertia>0.001</irrelevantinertia>
		<anglescaling>12.0</anglescaling> 
		<ratescaling>6.0</ratescaling>
		<distancescaling>4.0</distancescaling>
		<timereward>-0.1</timereward>
		<goalreward>100</goalreward>
		<torqueactions>3</torqueactions>
		<torquescaling>1</torquescaling>
		<maxtorque>.4</maxtorque>
		<goalradius>0.2</goalradius>
		<lanewidth>1</lanewidth>
		<rot1>atan(.5)</rot1>
		<rot2>atan(1)</rot2>
		<rot3>atan(2)</rot3>
		<scaling>0.25</scaling>
		<len0>scaling*2</len0>
		<len1>scaling*sqrt(5)</len1>
		<len2>scaling*sqrt(8)</len2>
		<y0>scaling*0</y0>
		<y1>scaling*2.5</y1>
		<y2>scaling*5</y2>
		<y3>scaling*6.5</y3>
		<y4>scaling*8</y4>
		<y5>scaling*9.5</y5>
		<y6>scaling*7</y6>
		<z0>scaling*-1</z0>
		<z1>scaling*-0.5</z1>
		<z2>scaling*1</z2>
		<z3>scaling*3.5</z3>
		<z4>scaling*5</z4>
		<z5>scaling*6.5</z5>
		<z6>scaling*4</z6>
	</constants>
	<ode>
		<globalK>3.3E6</globalK>
		<globalD>0.0</globalD>
		<gravityZ>-9.81</gravityZ>
		<steptime>0.1</steptime>
		<subsamplingfactor>40</subsamplingfactor>
		<anchor>
			<name>goal</name>
			<x>0</x>
			<y>y6</y>
			<z>z6+scaling</z>	
		</anchor>
		<anchor>
			<name>mountain</name>
			<x>0</x>
			<y>0</y>
			<z>0</z>	
		</anchor>
		
		<object>
			<drawbodies>true</drawbodies>
			<name>goal</name>
			<body>
				<name>goal</name>
				<mass>irrelevantmass</mass>
				<IXX>irrelevantinertia</IXX>
				<IYY>irrelevantinertia</IYY>
				<IZZ>irrelevantinertia</IZZ>
				<anchor>
					<name>center</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<sphere comment="goal">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<radius>goalradius</radius>
					</sphere>
				</drawinfo>
			</body>
			<joint>
				<name>fixgoal</name>
				<type>fixed</type>		
				<anchor1>
					<bodyname>world</bodyname>
					<anchorname>goal</anchorname>			
				</anchor1>
				<anchor2>
					<bodyname>goal</bodyname>
					<anchorname>center</anchorname>			
				</anchor2>
			</joint>
		</object>
				
		<object>
			<drawbodies>true</drawbodies>
			<drawgeoms>false</drawgeoms>
			<name>mountain</name>
			<body>
				<name>mountain</name>
				<mass>irrelevantmass</mass>
				<IXX>irrelevantinertia</IXX>
				<IYY>irrelevantinertia</IYY>
				<IZZ>irrelevantinertia</IZZ>
				<anchor>
					<name>center</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="mid">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>y0</y>
						<z>z0</z>
						<dx>lanewidth</dx>				
						<dy>len0</dy>
						<dz>len0</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>0</angle>
						</rotation>
					</box>
					<box comment="left1">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>-y1</y>
						<z>z1</z>
						<dx>lanewidth</dx>				
						<dy>len1</dy>
						<dz>len1</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>-rot1</angle>
						</rotation>
					</box>
					<box comment="left2">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>-y2</y>
						<z>z2</z>
						<dx>lanewidth</dx>				
						<dy>len2</dy>
						<dz>len2</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>-rot2</angle>
						</rotation>
					</box>
					<box comment="left3">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>-y3</y>
						<z>z3</z>
						<dx>lanewidth</dx>				
						<dy>len1</dy>
						<dz>len1</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>-rot3</angle>
						</rotation>
					</box>
					<box comment="left4">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>-y6</y>
						<z>z6+2*scaling</z>
						<dx>lanewidth</dx>				
						<dy>len0</dy>
						<dz>len0</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>0</angle>
						</rotation>
					</box>
					<box comment="right1">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>y1</y>
						<z>z1</z>
						<dx>lanewidth</dx>				
						<dy>len1</dy>
						<dz>len1</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>rot1</angle>
						</rotation>
					</box>
					<box comment="right2">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>y2</y>
						<z>z2</z>
						<dx>lanewidth</dx>				
						<dy>len2</dy>
						<dz>len2</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>rot2</angle>
						</rotation>
					</box>
					<box comment="right3">
						<color>
							<r>0.8</r>
							<g>0.8</g>
							<b>0.8</b>
						</color>
						<x>0</x>
						<y>y3</y>
						<z>z3</z>
						<dx>lanewidth</dx>				
						<dy>len1</dy>
						<dz>len1</dz>				
						<rotation>
							<axis>
								<x>1</x>
								<y>0</y>
								<z>0</z>
							</axis>
							<angle>rot3</angle>
						</rotation>
					</box>
				</drawinfo>
			</body>
			<joint>
				<name>fixmountain</name>
				<type>fixed</type>		
				<anchor1>
					<bodyname>world</bodyname>
					<anchorname>mountain</anchorname>			
				</anchor1>
				<anchor2>
					<bodyname>mountain</bodyname>
					<anchorname>center</anchorname>			
				</anchor2>
			</joint>
			<geom>
				<name>mid</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>y0</y>
				<z>z0</z>
				<dx>lanewidth</dx>				
				<dy>len0</dy>
				<dz>len0</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>0</angle>
				</rotation>
			</geom>
			<geom>
				<name>left1</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>-y1</y>
				<z>z1</z>
				<dx>lanewidth</dx>				
				<dy>len1</dy>
				<dz>len1</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>-rot1</angle>
				</rotation>
			</geom>
			<geom>
				<name>left2</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>-y2</y>
				<z>z2</z>
				<dx>lanewidth</dx>				
				<dy>len2</dy>
				<dz>len2</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>-rot2</angle>
				</rotation>
			</geom>
			<geom>
				<name>left3</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>-y3</y>
				<z>z3</z>
				<dx>lanewidth</dx>				
				<dy>len1</dy>
				<dz>len1</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>-rot3</angle>
				</rotation>
			</geom>
			<geom>
				<name>left4</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>-y6</y>
				<z>z6+2*scaling</z>
				<dx>lanewidth</dx>				
				<dy>len0</dy>
				<dz>len0</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>0</angle>
				</rotation>
			</geom>
			<geom>
				<name>right1</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>y1</y>
				<z>z1</z>
				<dx>lanewidth</dx>				
				<dy>len1</dy>
				<dz>len1</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>rot1</angle>
				</rotation>
			</geom>
			<geom>
				<name>right2</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>y2</y>
				<z>z2</z>
				<dx>lanewidth</dx>				
				<dy>len2</dy>
				<dz>len2</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>rot2</angle>
				</rotation>
			</geom>
			<geom>
				<name>right3</name>
				<bodyname>mountain</bodyname>
				<type>box</type>
				<material>linoleum</material>
				<x>0</x>
				<y>y3</y>
				<z>z3</z>
				<dx>lanewidth</dx>				
				<dy>len1</dy>
				<dz>len1</dz>				
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>rot3</angle>
				</rotation>
			</geom>
		</object>
		<object>
			<name>robot</name>
			<drawbodies>true</drawbodies>
			<drawcoms>true</drawcoms>
			<drawgeoms>true</drawgeoms>
			
			<initialcondition>
				<bodyname>base</bodyname>
				<rotation>
					<axis>
						<x>1</x>
						<y>0</y>
						<z>0</z>
					</axis>
					<angle>0</angle>
				</rotation>
			</initialcondition>
			<body>
				<name>base</name>
				<mass>basemass</mass>
				<CMZ>-baselength</CMZ>
				
				<IXX>(1/12)*basemass*(baselength^2+basethickness^2)</IXX>
				<IYY>1000</IYY>
<!--				<IYY>(1/12)*basemass*(basewidth^2+basethickness^2)</IYY> -->
				<IZZ>1000</IZZ>
<!--				<IZZ>(1/12)*basemass*(baselength^2+basewidth^2)</IZZ> -->
				<anchor>
					<name>wheel1</name>
					<x>0</x>
					<y>baselength/2</y>
					<z>0</z>
				</anchor>
				<anchor>
					<name>wheel2</name>
					<x>0</x>
					<y>-baselength/2</y>
					<z>0</z>
				</anchor>
				<anchor>
					<name>pole</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="base">
						<color>
							<r>0.8</r>
							<g>0.1</g>
							<b>0.1</b>
						</color>
						<dx>baselength</dx>
						<dy>baselength</dy>
						<dz>basethickness</dz>
					</box>
				</drawinfo>
			</body>
			<body>
				<name>wheel1</name>
				<mass>wheelmass</mass>
				<IXX>(1/2)*wheelmass*wheelradius^2</IXX>
				<IYY>(1/12)*wheelmass*(3*wheelradius^2+basewidth^2)</IYY>
				<IZZ>(1/12)*wheelmass*(3*wheelradius^2+basewidth^2)</IZZ>
				<anchor>
					<name>base</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<cylinder>
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<radius>wheelradius</radius>
						<length>basewidth</length>
						<rotation>
							<axis>
								<x>0</x>
								<y>1</y>
								<z>0</z>
							</axis>
							<angle>0.5*_pi</angle>
						</rotation>
					</cylinder>					
				</drawinfo>
			</body>
			<body>
				<name>wheel2</name>
				<mass>wheelmass</mass>
				<IXX>(1/2)*wheelmass*wheelradius^2</IXX>
				<IYY>(1/12)*wheelmass*(3*wheelradius^2+basewidth^2)</IYY>
				<IZZ>(1/12)*wheelmass*(3*wheelradius^2+basewidth^2)</IZZ>
				<anchor>
					<name>base</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<cylinder>
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<radius>wheelradius</radius>
						<length>basewidth</length>
						<rotation>
							<axis>
								<x>0</x>
								<y>1</y>
								<z>0</z>
							</axis>
							<angle>0.5*_pi</angle>
						</rotation>
					</cylinder>					
				</drawinfo>
			</body>
			<joint>
				<name>motorjoint1</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>base</bodyname>
					<anchorname>wheel1</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>wheel1</bodyname>
					<anchorname>base</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
				<motor>
					<type>torque</type>
					<lineardamping>0</lineardamping>
				</motor>
			</joint>
			<joint>
				<name>motorjoint2</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>base</bodyname>
					<anchorname>wheel2</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>wheel2</bodyname>
					<anchorname>base</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
				<motor>
					<type>torque</type>
					<lineardamping>0</lineardamping>
				</motor>
			</joint>
			<fixedpoint>
				<bodyname>base</bodyname>
				<bodyX>0</bodyX>
				<bodyY>0</bodyY>
				<bodyZ>0</bodyZ>
				<worldX>0</worldX>
				<worldY>0</worldY>
				<worldZ>wheelradius</worldZ>
			</fixedpoint>
			<geom>
				<name>wheel1</name>
				<bodyname>wheel1</bodyname>
				<type>cylinder</type>
				<material>rubber</material>
				<radius>wheelradius</radius>
				<length>basewidth</length>
				<x>0</x>				
				<y>0</y>
				<z>0</z>				
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>0.5*_pi</angle>
				</rotation>
			</geom>
			<geom>
				<name>wheel2</name>
				<bodyname>wheel2</bodyname>
				<type>cylinder</type>
				<material>rubber</material>
				<radius>wheelradius</radius>
				<length>basewidth</length>
				<x>0</x>				
				<y>0</y>
				<z>0</z>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>0.5*_pi</angle>
				</rotation>
			</geom>
		</object>
		<object>
			<name>floor</name>
			<geom>
				<name>surface</name>
				<type>plane</type>
				<material>lynoleum</material>
				<A>0</A>
				<B>0</B>
				<C>1</C>
				<D>0</D>		
			</geom>	
		</object>
		<collisions>
			<drawcontacts>false</drawcontacts>
			<contact>
				<material1>lynoleum</material1>
				<material2>rubber</material2>
				<K>6000</K>
				<D>300</D>
				<mu>1000</mu>
				<approximation comment="1 means friction pyramid approximation">1</approximation>
			</contact>
			<contact>
				<material1>lynoleum</material1>
				<material2>glass</material2>
				<K>6000</K>
				<D>300</D>
				<mu>0</mu>
			</contact>
			<collision>
				<object1>mountain</object1>
				<object2>robot</object2>
			</collision>
			<collision>
				<object1>floor</object1>
				<object2>robot</object2>
			</collision>
		</collisions>
	</ode>
</configuration>

